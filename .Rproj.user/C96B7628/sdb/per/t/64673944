{
    "collab_server" : "",
    "contents" : "\n\nshinyServer(function(input, output) {\n  \n  output$lala <- renderText({\n    class(input$var)\n    \n  })\n  \n   observeEvent(input$go, { \n    output$answer <- renderText({\n     s <- 16*((as.numeric(input$Variations)/100) + 1) * ((sqrt(( (as.numeric(input$baseline)/100)*(1- (as.numeric(input$baseline)/100))))) / ((as.numeric(input$baseline)/100)* (as.numeric(input$effect)/100)))^2\n     print(paste(\"You will need at least\", prettyNum(round(s,0), big.mark = ','), \"subjects in each branch of your experiment.\", ' ')) \n      })\n    })\n    \n  \n  observeEvent(input$go2, {\n    if (input$SL == TRUE){\n      output$diag <- renderDiagrammeR({\n        mermaid(\n          \" graph TB\n        \n        A(Population)-->B[Control]\n        A-->C[Subject Line 1]\n        A-->D[Subject Line 2]\")\n        \n      })\n   \n       \n    }else if (input$SL == TRUE & input$cre == TRUE){\n      output$diag <- renderDiagrammeR({\n        mermaid(\n          \" graph TB\n          \n          A(Population)-->B[Control]\n          A-->C[Subject Line 1]\n          A-->D[Subject Line 2]\n          C-->E[Creative 1]\n          C-->F[Creative 2]\n          C-->I[Control]\n          D-->G[Creative 1]\n          D-->H[Creative 2]\n          D-->J[Control]\n          B-->K[Control]\")\n        \n      })\n      \n    }else if (input$SL == TRUE & input$cop == TRUE){\n      output$diag <- renderDiagrammeR({\n        mermaid(\n          \" graph TB\n          \n          A(Population)-->B[Control]\n          A-->C[Subject Line 1]\n          A-->D[Subject Line 2]\n          C-->E[Copy 1]\n          C-->F[Copy 2]\n          C-->I[Control]\n          D-->G[Copy 1]\n          D-->H[Copy 2]\n          D-->J[Control]\n          B-->K[Control]\")\n        \n      })\n      \n    }else if (input$SL == TRUE & input$SD == TRUE){\n      output$diag <- renderDiagrammeR({\n        mermaid(\n          \" graph TB\n          \n          A(Population)-->B[Control]\n          A-->C[Subject Line 1]\n          A-->D[Subject Line 2]\n          C-->E[Send day 1]\n          C-->F[Send day 2]\n          C-->I[Control]\n          D-->G[Send day 1]\n          D-->H[Send day 2]\n          D-->J[Control]\n          B-->K[Control]\")\n        })\n      \n    }else if (input$SL == TRUE & input$ST == TRUE){\n      output$diag <- renderDiagrammeR({\n        mermaid(\n          \" graph TB\n          \n          A(Population)-->B[Control]\n          A-->C[Subject Line 1]\n          A-->D[Subject Line 2]\n          C-->E[Send time 1]\n          C-->F[Send time 2]\n          C-->I[Control]\n          D-->G[Send time 1]\n          D-->H[Send time 2]\n          D-->J[Control]\n          B-->K[Control]\")\n      })\n      \n    }else if (input$SL == TRUE & input$cre== TRUE & input$cop == TRUE){\n      output$diag <- renderDiagrammeR({\n        mermaid(\n          \" graph LR\n          \n         A(Population)-->B[Control]\n          A-->C[Subject Line 1]\n          A-->D[Subject Line 2]\n          C-->E[Creative 1]\n          C-->F[Creative 2]\n          C-->I[Control]\n          D-->G[Creative 1]\n          D-->H[Creative 2]\n          D-->J[Control]\n          B-->K[Control]\n          E-->L[Copy 1]\n          E-->M[Copy 2]\n          E-->N[Control]\n          F-->O[Copy 1]\n          F-->P[Copy 2]\n          F-->Q[Control]\")\n      })\n      \n      \n    }else if (input$SL == TRUE & input$cre == TRUE & input$cop == TRUE & input$SD== TRUE){\n      \n    }else if (input$SL == TRUE & input$cre== TRUE & input$cop == TRUE & input$SD == TRUE & input$ST == TRUE){\n      \n    }else if(input$cre == TRUE){\n      \n    }else if(input$cop== TRUE){\n      \n    }else if(input$SD == TRUE){\n      \n    }else if(input$ST==TRUE) {\n      \n    }else if(input$cre == TRUE & input$cop == TRUE) {\n      \n    }else if(input$cre == TRUE & input$SD == TRUE) {\n      \n    }else if(input$cre == TRUE & input$ST == TRUE){\n      \n    }else if(input$cre == TRUE & input$cop == TRUE & input$SD == TRUE){\n      \n    }else if(input$cre == TRUE & input$cop == TRUE & input$SD == TRUE & input$ST== TRUE){\n      \n    }else if(input$cre == TRUE & input$cop == TRUE & input$ST == TRUE){\n      \n    }else if(input$cre == TRUE  & input$SD == TRUE & input$ST== TRUE){\n      \n    }else if( input$cop == TRUE & input$SD == TRUE & input$ST== TRUE) {\n      \n    }else if(input$SD == TRUE & input$ST== TRUE) {\n      \n    }else if( input$cop == TRUE & input$SD == TRUE ) {\n      \n    }else if( input$cop == TRUE  & input$ST== TRUE){\n      \n    }else if(input$SL == TRUE & input$cop == TRUE & input$SD == TRUE & input$ST == TRUE){\n      \n    }else if(input$SL == TRUE & input$SD == TRUE & input$ST == TRUE){\n      \n    }else if(input$SL == TRUE  & input$SD == TRUE ){\n      \n    }else if(input$SL == TRUE  & input$ST == TRUE){\n      \n    }\n    \n  })\n  \n  \n    \n  \n   \n \n\n})\n\n",
    "created" : 1502979409667.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2689175702",
    "id" : "64673944",
    "lastKnownWriteTime" : 1502986670,
    "last_content_update" : 1502986670750,
    "path" : "~/code_repo/design_experiment/server.R",
    "project_path" : "server.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}